<nav class="navbar navbar-expand navbar-dark bg-info static-top">

  <div class="d-flex flex-row align-items-center">
    <a class="navbar-brand mr-1 text-white">Consultorio</a>
  </div>

  <div class="d-none d-md-inline-block form-inline ml-auto mr-0 mr-md-3 my-2 my-md-0 d-flex flex-row align-items-center">
    &nbsp;&nbsp;<span class="mr-1 text-white">Asesor: {{user.name}} {{user.lastname}}</span>
   </div>

  <!-- <button class="btn btn-link btn-sm text-white order-1 order-sm-0" id="sidebarToggle" href="#">
    <i class="fas fa-bars"></i>
  </button> -->

  <!-- Navbar Search -->
  <form class="d-none d-md-inline-block form-inline ml-auto mr-0 mr-md-3 my-2 my-md-0">
    <!-- <div class="input-group">
      <input type="text" class="form-control" placeholder="Search for..." aria-label="Search" aria-describedby="basic-addon2">
      <div class="input-group-append">
        <button class="btn btn-secondary" type="button">
          <i class="fas fa-search"></i>
        </button>
      </div>
    </div> -->
  </form>

  <!-- Navbar -->
  <ul class="navbar-nav ml-auto ml-md-0">
    <!-- <li class="nav-item dropdown no-arrow mx-1">
      <a class="nav-link dropdown-toggle" href="#" id="alertsDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          <span class="badge badge-danger">9+</span>

        <i class="fas fa-bell fa-fw"></i>
      </a>
      <div class="dropdown-menu dropdown-menu-right" aria-labelledby="alertsDropdown">
        <a class="dropdown-item" href="#">Action</a>
        <a class="dropdown-item" href="#">Another action</a>
        <div class="dropdown-divider"></div>
        <a class="dropdown-item" href="#">Something else here</a>
      </div>
    </li> -->
    <!-- <li class="nav-item dropdown no-arrow mx-1">
      <a class="nav-link dropdown-toggle" href="#" id="messagesDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
        <i class="fas fa-envelope fa-fw"></i>
        <span class="badge badge-danger">7</span>
      </a>
      <div class="dropdown-menu dropdown-menu-right" aria-labelledby="messagesDropdown">
        <a class="dropdown-item" href="#">Action</a>
        <a class="dropdown-item" href="#">Another action</a>
        <div class="dropdown-divider"></div>
        <a class="dropdown-item" href="#">Something else here</a>
      </div>
    </li> -->
    <li class="nav-item dropdown no-arrow">
      <a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
        <i class="fas fa-user-circle fa-fw"></i>
      </a>
      <div class="dropdown-menu dropdown-menu-right" aria-labelledby="userDropdown">
        <a class="dropdown-item" [routerLink]="['profile']">Perfil</a>
        <div class="dropdown-divider"></div>
        <button class="dropdown-item" (click)="openModal(report)">Crear Reclamo</button>
        <div class="dropdown-divider"></div>
        <a class="dropdown-item" href="#" data-toggle="modal" data-target="#logoutModal">Cerrar Sesión</a>
      </div>
    </li>
  </ul>

</nav>
<div [className]="'w-100 p-1 bg-danger text-center text-white '+(user.validate==='N'?'':'d-none') "><span>Necesita ser Validado.</span></div>

<div id="wrapper">
  <app-csidebar ></app-csidebar>
  <div id="content-wrapper">
    <div class="container-fluid">
    <router-outlet></router-outlet>
    </div>
  </div>

</div>

<ng-template #report let-modal class="modal fade" tabindex="-1" role="dialog"
    aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-header">
      <h4 class="modal-title" id="modal-basic-title">Reportar Incidente </h4>
      <button type="button" class="close" aria-label="Close"
        (click)="modal.dismiss('Cross click')">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
      <form>
        <div class="form-group">
          <label for="reportTitle"><b>Titulo del Incidente.</b></label>
          <input id="reportTitle" class="form-control" name="reportTitle" [(ngModel)]="reportTitle" placeholder="Titulo del Incidente"/>
        </div>
        <div class="form-group">
          <label for="reportMessage"><b>Describa el incidente.</b></label>
          <textarea id="reportMessage" class="form-control" name="reportMessage" [(ngModel)]="reportMessage" placeholder="Describa brevemente el incidente."></textarea>
        </div>
      </form>
    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-success" (click)="createReport()">Enviar Reporte</button>
    </div>
  </ng-template>

  <!-- Logout Modal-->
<div class="modal fade" id="logoutModal" tabindex="-1" role="dialog"
aria-labelledby="exampleModalLabel" aria-hidden="true">
<div class="modal-dialog" role="document">
  <div class="modal-content">
    <div class="modal-header">
      <h5 class="modal-title" id="exampleModalLabel">¿Desea salir de la aplicación?</h5>
      <button class="close" type="button" data-dismiss="modal"
        aria-label="Close">
        <span aria-hidden="true">×</span>
      </button>
    </div>
    <div class="modal-body">Presione aceptar para cerrar sesión.</div>
    <div class="modal-footer">
      <button class="btn btn-secondary" type="button" data-dismiss="modal">Cancelar</button>
      <button class="btn btn-primary" (click)="logOut()">Cerrar Sesión</button>
    </div>
  </div>
</div>
</div>
